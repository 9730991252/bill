<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <div id="you-qr-result"></div>
   <h1>scan qr html</h1>
   <div style="display: flex;justify-content: center;">
      <div id="my-qr-reader" style="height: 500px; width: 500px;">

      </div>
   </div>


   <h1 id="ruselt"></h1>

   <script src="http://unpkg.com/html5-qrcode"></script>

   <script>
      function domReady(fn){
         if(document.readyState === "complete" || document.readyState === "interactive"){
            setTimeout(fn,1)
         }else{
            document.addEventListener("DOMContentLoaded",fn)
         }
      }
      domReady(function(){
         var myqr = document.getElementById('you-qr-result')
         var lastResult,countResult = 0;

         function onScanSuccess(decodeText,decodeResult){
            if(decodeText !== lastResult){
               ++countResult;
               lastResult = decodeText;
               document.getElementById('ruselt').innerHTML=`${decodeText}`
               myqr.innerHTML = ` you scan ${countResult} : ${decodeText}`
               console.log(decodeText)
            }
         }
         var htmlscanner = new Html5QrcodeScanner(
            "my-qr-reader",{fps:120,qrbox:250})
         htmlscanner.render(onScanSuccess)
      })
   </script>
</body>
</html>